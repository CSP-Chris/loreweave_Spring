Milestone 1 Contributions:
Week 1: Updated pom.xml to target Java 17 and ensured compatibility with Spring Boot 3.

        Implemented JWT Security setup:

        Added SecurityConfig.java with stateless session handling and JWT filter.

        Created JwtAuthenticationFilter to validate tokens on requests.

        Built JwtService for token generation, validation, and username extraction.

        Added CustomUserDetailsService to load user credentials from the database.

        Configured BCryptPasswordEncoder for secure password hashing.

        Developed AuthController with /api/auth/login endpoint to authenticate users and return JWT tokens.

        Verified and updated User entity & UserRepository so authentication works with the DB.

        Configured application.properties:

        Set up H2 in-memory database for testing.

        Enabled Hibernate ddl-auto=create-drop for clean schema on each restart.

        Enabled /h2-console for debugging database content.

        Resolved merge conflicts in:

        application.properties (kept JWT + H2 config).

        pom.xml (merged in spring-security-test, Thymeleaf, and Actuator).

        Ensured the application now builds successfully and can run with JWT authentication enabled.

Learning Experience

        This week deepened my understanding of Spring Security with JWT and the importance of clean dependency management.
        Resolving merge conflicts reinforced best practices for collaborative Git workflows. Configuring the H2 database
        and Hibernate taught me effective strategies for rapid testing and schema resets. Overall, I gained practical
        experience in backend authentication and team-based development that will benefit future milestones.
Week 2 & 3:
Backend & Security Updates
‚Ä¢	Replaced JWT stateless authentication with stateful session-based authentication integrated with Spring Security and Thymeleaf.
‚Ä¢	Configured SecurityConfig.java to handle custom login/logout, session cookies, and redirect handling.
‚Ä¢	Updated AuthController.java to focus only on user registration (login/logout now fully managed by Spring Security).
‚Ä¢	Updated CustomUserDetailsService.java to load users from the database and apply a default USER role without requiring a roles table.
‚Ä¢	Removed unused JWT files (JwtService, JwtAuthenticationFilter) and cleaned up imports/dependencies in pom.xml.
‚Ä¢	Secured static resources (/css/**, /js/**, /images/**, /favicon.ico) to ensure proper page rendering without login issues.
‚Ä¢	Strengthened database configuration in application.properties and prepared for environment variable integration.
Frontend Integration
‚Ä¢	Connected Thymeleaf login (loginBSF.html) and registration (register.html) pages with the new Spring Security session-based backend.
‚Ä¢	Verified redirects: successful login goes to /welcome, failed login redirects with error flag.
DevOps & CI/CD
‚Ä¢	Added a GitHub Actions CI workflow (maven-ci.yml) to automatically run Maven build and tests on each push/PR.
‚Ä¢	Structured .github/workflows folder in the repo and confirmed integration with GitHub Actions.
‚Ä¢	Started preparations for environment variable usage (DB_USER, DB_PASS) in CI/CD pipelines.
Current Status (End of Milestone 1)
‚Ä¢	User can register, log in, and log out via the browser.
‚Ä¢	Session-based authentication works correctly with Spring Security.
‚Ä¢	Frontend pages (login, register, welcome) are integrated with backend.
‚Ä¢	CI pipeline in place with GitHub Actions running Maven build/tests.


Milestone 2
    Week 1: Focus: Transactions and Security

Created Transaction.java, TransactionRepository, TransactionService, and TransactionController to handle point transfers between users.

Built the foundation for the voting system by creating VoteController and LoreVoteRepository.

Updated LoreVote.java to include point and transaction fields (amount, receiverId, status).

Combined voting and transaction logic so each vote automatically rewards the story‚Äôs author.

Updated StoryPart.java to include an author field linked to the User entity.

Simplified TransactionService for potential reporting use only.

Cleaned up SecurityConfig.java ‚Äî removed /api/transactions/** and secured /api/votes/**.

Added WebSocketConfig.java to prepare for future messaging features.

Verified that all new endpoints (/api/votes/**) require authentication and build runs successfully.

    Week 2:
Completed the design and implementation of the /api/transactions endpoints to allow secure point transfers between users.

Developed methods for atomic balance updates with rollback functionality on failure.

Implemented server-side validation for sufficient funds and transfer restrictions to prevent fraudulent activity.

Updated SecurityConfig.java to enforce authenticated access for transaction-related endpoints.

Strengthened session-based authentication and tested login persistence across the Thymeleaf interface.

Week 3:
feat(auth): add email verification with OTP and update test configuration

- Added EmailOtpService.java to handle both email sending and OTP verification
- Updated User.java model to include `enabled` field for email verification status
- Updated AuthController.java to send OTP on registration and restrict login to verified users
- Added findByEmail() method to UserRepository.java for email lookups
- Updated SecurityConfig.java to support verified user login flow
- Added test profile configuration (application-test.properties) using H2 in-memory DB
- Fixed Maven test failure by isolating test database context
- Updated pom.xml to include spring-boot-starter-mail dependency

These updates enable email verification during registration and ensure users
cannot log in until their email address has been confirmed.


feat(ui): Add fantasy-themed welcome, login, and register pages with unified styling and animations

‚ú® Added:
- `welcome.html` ‚Äî Created hero landing page with Loreweave title, tagline, and vertical scroll layout
  ‚Ä¢ Integrated `openbook.jpeg` as hero background image
  ‚Ä¢ Added fixed ‚ÄúStart Weaving‚Äù CTA with gold hover pulse animation
  ‚Ä¢ Included ‚ÄúWhat is Loreweave,‚Äù ‚ÄúHow It Works,‚Äù and ‚ÄúTips for New Weavers‚Äù sections
  ‚Ä¢ Implemented fantasy color palette and typography using Cinzel Decorative + Cormorant Garamond

- `login.html` ‚Äî Styled login page with centered glowing glass container
  ‚Ä¢ Added Loreweave header with navigation back to home
  ‚Ä¢ Added footer with consistent design
  ‚Ä¢ Integrated gold pulse + sparkle hover animation for ‚ÄúSign In‚Äù button
  ‚Ä¢ Checkbox styling (lavender glow + golden highlight on selection)
  ‚Ä¢ Fully responsive layout centered both vertically and horizontally

- `register.html` ‚Äî Matched visual theme with login and welcome pages
  ‚Ä¢ Styled centered registration form inside glowing fantasy container
  ‚Ä¢ Matching button pulse and checkbox glow effects
  ‚Ä¢ Integrated error/success alert box styling for email/OTP feedback
  ‚Ä¢ Ensured responsive alignment with consistent header/footer positioning

üé® Updated:
- `styles.css`
  ‚Ä¢ Centralized theme colors, gradients, and text shadows
  ‚Ä¢ Added shared fantasy UI components (buttons, containers, headers, checkboxes)
  ‚Ä¢ Implemented consistent centering via `.login-wrapper` and `.register-box`
  ‚Ä¢ Unified hover animations (`goldPulse`, `sparkleBurst`) across pages
  ‚Ä¢ Added responsive adjustments for all page layouts

üñºÔ∏è Added assets:
- `/images/openbook.jpeg` ‚Äî main hero image for welcome page
- `/images/hero-bg.jpeg` ‚Äî shared login/register background

üì± Result:
Unified, immersive fantasy theme across landing, login, and registration pages.
Consistent animation behavior, responsive layouts, and readable contrast on all screens.

Milestone 3:

feat(ui): update global navbar, improve messages layout, and refine fantasy styling

- Rebuilt global navbar with consistent button sizing, hover highlights, and working route links
- Added notification icon to navbar across all pages
- Updated messages.html layout: aligned Conversations/Thread sections, reduced spacing, improved positioning
- Adjusted CSS to match profile page styling (fonts, glow effects, spacing, alignment)
- Fixed hover state colors for action buttons and normalized sizing across all nav items
- Cleaned layout spacing by adding margin-top to message panels
- Improved UI cohesion across pages using unified fantasy theme styling

Improve Stories page visual clarity by brightening background video and adjusting container transparency

- Increased brightness/contrast on flyingpages.mov background
- Reduced darkness of global overlay for better visibility
- Lightened list-group-item containers for improved readability
- Updated styles.css to match updated fantasy theme across pages

üé® UI Overhaul: Unified Loreweave Fantasy Theme + Flying Pages Background

Implemented a full UI/UX styling update across the Loreweave frontend to
create a cohesive fantasy aesthetic and improve readability, consistency,
and polish.

‚ú® Global Enhancements
- Added flyingpages.mov video background support across multiple pages.
- Ensured proper layering via z-index fixes for video vs content.
- Standardized fantasy-themed headers, borders, buttons, and card styles.
- Applied consistent purple gradients, soft gold accents, and glow effects.

üìÑ Page-Specific Updates

‚Ä¢ story-new.html
  - Implemented video background behind content.
  - Styled create-story form with fantasy card, CTA button, and typography.

‚Ä¢ story-part.html
  - Converted story display into a contained scrollable chapter card.
  - Re-themed Upvote/Downvote buttons to match purple+gold fantasy scheme.
  - Improved spacing, readability, and hover effects.
  - Enhanced lore alert UI with glowing fantasy banners.

‚Ä¢ story-part-new.html
  - Styled new story part editor with a glowing fantasy card layout.
  - Updated SAVE/CANCEL buttons with matching CTA purple + gold hover style.

‚Ä¢ stories.html
  - Added full fantasy theme for story list page.
  - Styled story cards, Create Story CTA, header, and footer.
  - Applied consistent hover glows and content layout.

‚Ä¢ story.html
  - Styled single story overview page with chapter list card styling.
  - Added fantasy title, metadata styling, and Add Part CTA.
  - Integrated background video + improved layout spacing.

üßπ Cleanup
- Removed redundant background pseudo-elements.
- Consolidated component styles for consistency.
- Improved responsive spacing and readability.

Overall: This commit completes the full Loreweave UI theming pass and
visually unifies all story/character pages with the project‚Äôs fantasy style.

Implement turn-based story part restrictions, error page, and controller integration

### Added
- Introduced ‚Äúno consecutive story parts‚Äù rule in StoryPartService using
  findTopByStoryIdOrderByPartOrderDesc.
- Added StoryPart turn validation with clear exception messages.
- Created new error view: story-part-turn-error.html.
- Implemented StoryService.getStoryById() to support error page rendering.

### Updated
- Updated StoryPartRepository with consistent method signatures and cleaned queries.
- Enhanced StoryPartPageController to handle turn-rule violations:
  - Wrapped POST /story-parts in try/catch
  - Rendered custom error page when user contributes twice in a row.
- Ensured StoryPartController no longer conflicts by removing duplicate POST mapping.

### Fixed
- Resolved ambiguous Spring controller mappings for POST /story-parts.
- Fixed missing repository method errors due to mismatched signatures.
- Addressed missing static resource error by correcting file path expectations.

### Summary
This commit completes the turn-based story contribution system, adds a user-friendly
error page, fixes repository/service alignment, resolves controller conflicts, and
stabilizes the application startup.
Enhanced voting UI, fixed background behavior, and updated SAVE/CANCEL buttons

### Story Part Page (story-part.html)
- Added `story-part-page` class to `<body>` to correctly enable FlyingPages background theme
- Inserted global FlyingPages `<video id="flyingpages-bg">` element for full-page animated background
- Added `vote-buttons` wrapper class to voting button container for targeted styling
- Improved vote score and total votes markup with `.vote-score` and `.vote-total` classes

### Story Part New Page (story-part-new.html)
- Added `story-part-page` class to `<body>` so new part creation page uses correct background + theme
- Updated SAVE and CANCEL buttons to use fantasy navbar-style CTA appearance
- Ensured FlyingPages background video loads consistently on create-new page

### Stylesheet (styles.css)
- Implemented final override for SAVE/CANCEL button sizing and fantasy purple-gold gradient
- Removed outer box styling around voting forms; voting buttons now match navbar button design
- Added `.vote-buttons` styling block for clean fantasy-themed upvote/downvote UI
- Updated voting button hover effects to use gold glow + purple fantasy gradient
- Enlarged and enhanced vote score + total votes display with fantasy gold text + glow
- Ensured FlyingPages background video applies consistently across story-part and story-part-new pages

Overall: Standardized voting UI, corrected background video integration, and unified CTA button styles across Loreweave story-part pages.



Enforce turn order on story page and block access to part creation form

### Added
- Turn-order validation to GET /story-parts/new in StoryPartPageController.
  When a user clicks ‚ÄúAdd Part,‚Äù the controller now checks the latest story
  contributor and immediately renders story-part-turn-error.html if the user
  wrote the last part.

### Updated
- Injected StoryService and User resolution into GET handler to support
  pre-validation before loading the part creation form.
- Improved user experience by preventing users from reaching the new part
  form when it is not their turn, aligning behavior with the turn-based
  storytelling rules implemented in StoryPartService.

### Behavior Change
- Turn-order errors now trigger earlier (on navigation from story.html),
  instead of waiting until after the form is submitted.
- Ensures consistent enforcement of "no two consecutive contributions"
  across both GET and POST flows.

### Summary
This update finalizes a smoother and more intuitive turn-based workflow,
preventing improper story contributions before users reach the form and
delivering clearer error messaging within the same storytelling context.
